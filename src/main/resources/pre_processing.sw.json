{
  "id": "pre_processing",
  "version": "1.0",
  "specVersion": "0.8",
  "name": "Pre processing",
  "description": "Pre processing",
  "start": "Create KServe payload",
  "functions": [
    {
      "name": "python",
      "type": "custom",
      "operation": "script:python"
    }
  ],
  "states": [
    {
      "name": "Create KServe payload",
      "type": "operation",
      "actions": [
        {
          "functionRef": {
            "refName": "python",
            "arguments": {
              "script": "import sys\nsys.path.append('./python')\nfrom coco_to_kserve import to_kserve\nkserve_payload = to_kserve(image, './')",
              "image" : ".image"
            }
          }
        }
      ],
      "stateDataFilter" : {
        "output" : "{kserve_payload:$WORKFLOW.python.kserve_payload}"
      },
      "transition": "Pre Processing Data"
    },
    {
      "name": "Pre Processing Data",
      "type": "inject",
      "data": {
        "preProcessingData": "Data was pre processed"
      },
      "end": true
    }
  ]
}